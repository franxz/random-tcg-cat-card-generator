(this["webpackJsonprandom-tcg-cat-card-generator"]=this["webpackJsonprandom-tcg-cat-card-generator"]||[]).push([[0],{19:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),s=a(8),r=a.n(s),o=a(6),i=a(4),h=a(9),l=a(10),d=a(3),m=a(13),j=a(12),b=a(1);var u=function(e){var t=e.text,a=e.color,n=e.disabled,c=e.handleClick;return Object(b.jsx)("button",{style:{backgroundColor:a},disabled:n,onClick:c,children:t})},g=a(7),O=a(11);var x=function(e){for(var t=e.data,a=t.name,n=t.hp,c=t.power,s=t.level,r=t.imgWidth,o=t.imgHeight,i=t.color,h=t.showName,l=t.imgLoading,d=t.nameLoading,m=[],j=0;j<s;j++)m.push(Object(b.jsx)(g.a,{className:"catLevelIcon"},j));var u=l||d?{opacity:0}:{transition:"opacity 0.25s ease-in"};return Object(b.jsxs)("div",{className:"card cardBg".concat(i),children:[h&&Object(b.jsxs)("div",{className:"cardHeader",children:[m,Object(b.jsx)("h2",{className:"catName",style:u,children:a})]}),Object(b.jsx)("img",{src:"http://placekitten.com/".concat(r,"/").concat(o),alt:"Random cat",className:"catImage",style:u,onLoad:e.handleLoad,onError:e.handleError}),Object(b.jsxs)("div",{className:"cardBottom",children:[Object(b.jsxs)("div",{className:"catPowerContainer",children:[Object(b.jsx)(g.b,{className:"bottomIcon"}),Object(b.jsx)("span",{className:"catPower",children:n})]}),Object(b.jsxs)("div",{className:"catPowerContainer",children:[Object(b.jsx)(O.a,{className:"bottomIcon"}),Object(b.jsx)("span",{className:"catPower",children:c})]})]})]})};var v=function(e){var t=e.data,a=t.name,n=t.hp,c=t.power,s=t.color,r=t.showName;return Object(b.jsxs)("div",{className:"formContainer",children:[Object(b.jsx)("h3",{children:"Customize card"}),Object(b.jsxs)("form",{children:[r&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("label",{htmlFor:"name",children:"Name"}),Object(b.jsx)("input",{name:"name",value:a,onChange:e.handleChange,id:"name"}),Object(b.jsx)("br",{})]}),Object(b.jsx)("label",{htmlFor:"hp",children:"Life"}),Object(b.jsx)("input",{type:"number",name:"hp",value:n,onChange:e.handleChange,id:"hp"}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:"power",children:"Damage"}),Object(b.jsx)("input",{type:"number",name:"power",value:c,onChange:e.handleChange,id:"power"}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:"color",children:"Color"}),Object(b.jsxs)("select",{name:"color",value:s,onChange:e.handleChange,id:"color",children:[Object(b.jsx)("option",{value:"1",children:"Orange"}),Object(b.jsx)("option",{value:"2",children:"Blue"}),Object(b.jsx)("option",{value:"3",children:"Green"})]}),Object(b.jsx)("br",{}),Object(b.jsx)("label",{htmlFor:"showName",children:"Show name?"}),Object(b.jsx)("input",{type:"checkbox",name:"showName",checked:r,onChange:e.handleChange,id:"showName"})]})]})},p=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).statMin=1,e.statMax=999,e.maxLvl=4,e.state={name:"",hp:0,power:0,level:0,imgWidth:250,imgHeight:0,color:0,showName:!0,showForm:!1,nameLoading:!0,imgLoading:!0},e.genCard=e.genCard.bind(Object(d.a)(e)),e.handleChange=e.handleChange.bind(Object(d.a)(e)),e.handleLoad=e.handleLoad.bind(Object(d.a)(e)),e.handleError=e.handleError.bind(Object(d.a)(e)),e.handleGenClick=e.handleGenClick.bind(Object(d.a)(e)),e.handleFormClick=e.handleFormClick.bind(Object(d.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.genCard()}},{key:"genCard",value:function(){this.fetchName(),this.fetchImg();var e=this.genRandomStat(),t=this.genRandomStat();this.setState({hp:e,power:t,level:this.calcLvl(e,t),color:Math.round(2*Math.random())+1})}},{key:"genRandomStat",value:function(){return 100*Math.round(8*Math.random())+100+(Math.random()>.5?50:0)}},{key:"calcLvl",value:function(e,t){return Math.floor((e+t)/(2*this.statMax/(this.maxLvl-1)))+1}},{key:"fetchName",value:function(){var e=this;this.setState({nameLoading:!0}),fetch("https://randomuser.me/api/").then((function(e){return e.json()})).then((function(t){return e.setState({name:t.results[0].name.first,nameLoading:!1})}))}},{key:"fetchImg",value:function(){var e;this.setState({imgLoading:!0});do{e=Math.round(30*Math.random())+250}while(e===this.state.imgHeight);this.setState({imgHeight:e})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.type,c=t.value,s=t.checked;if("checkbox"===n)this.setState(Object(i.a)({},a,s));else if("hp"===a||"power"===a){var r=parseInt(c);if(isNaN(r))this.setState(Object(i.a)({},a,""));else{var o,h=Math.min(Math.max(r,this.statMin),this.statMax),l="hp"===a?this.calcLvl(h,this.state.power):this.calcLvl(this.state.hp,h);this.setState((o={},Object(i.a)(o,a,h),Object(i.a)(o,"level",l),o))}}else this.setState(Object(i.a)({},a,c))}},{key:"handleLoad",value:function(){this.setState({imgLoading:!1})}},{key:"handleError",value:function(){this.fetchImg()}},{key:"handleGenClick",value:function(){this.genCard()}},{key:"handleFormClick",value:function(){this.setState((function(e){return{showForm:!e.showForm}}))}},{key:"render",value:function(){var e={text:"Generate",color:"#98ddca",disabled:this.state.imgLoading||this.state.nameLoading,handleClick:this.handleGenClick},t={text:this.state.showForm?"Close menu":"Customize",color:this.state.showForm?"#ffaaa7":"#ffd3b4",disabled:!1,handleClick:this.handleFormClick};return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("header",{children:Object(b.jsx)("h1",{children:"> Random TCG Cat Card Generator <"})}),Object(b.jsx)(x,{data:this.state,handleLoad:this.handleLoad,handleError:this.handleError}),Object(b.jsxs)("div",{className:"btnContainer",children:[Object(b.jsx)(u,Object(o.a)({},e)),Object(b.jsx)(u,Object(o.a)({},t))]}),this.state.showForm&&Object(b.jsx)(v,{data:this.state,handleChange:this.handleChange}),Object(b.jsx)("footer",{children:Object(b.jsxs)("p",{children:[Object(b.jsx)("span",{children:"This app works thanks to 2 APIs. So if something is broken, it may not be my fault :P "}),Object(b.jsx)("a",{href:"https://github.com/franxz/random-tcg-cat-card-generator",children:"More info here"})]})})]})}}]),a}(c.a.Component);a(19);r.a.render(Object(b.jsx)(p,{}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.4cb966cd.chunk.js.map